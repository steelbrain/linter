{"version":3,"file":"index.js","sources":["../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_root.js","../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_freeGlobal.js","../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_Symbol.js","../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_getRawTag.js","../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_objectToString.js","../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseGetTag.js","../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/isObject.js","../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/isFunction.js","../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_isMasked.js","../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_coreJsData.js","../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_toSource.js","../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseIsNative.js","../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_getNative.js","../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_getValue.js","../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_nativeCreate.js","../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_hashClear.js","../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_hashDelete.js","../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_hashGet.js","../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_hashHas.js","../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_hashSet.js","../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_Hash.js","../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_listCacheClear.js","../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_assocIndexOf.js","../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/eq.js","../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_listCacheDelete.js","../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_listCacheGet.js","../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_listCacheHas.js","../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_listCacheSet.js","../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_ListCache.js","../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_Map.js","../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_mapCacheClear.js","../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_getMapData.js","../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_isKeyable.js","../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_mapCacheDelete.js","../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_mapCacheGet.js","../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_mapCacheHas.js","../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_mapCacheSet.js","../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_MapCache.js","../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_SetCache.js","../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_setCacheAdd.js","../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_setCacheHas.js","../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseIndexOf.js","../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseFindIndex.js","../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseIsNaN.js","../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_strictIndexOf.js","../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_arrayIncludes.js","../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_arrayIncludesWith.js","../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_cacheHas.js","../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_setToArray.js","../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_createSet.js","../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_Set.js","../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/noop.js","../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseUniq.js","../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/uniq.js","../lib/validate/helpers.ts","../lib/validate/index.ts","../lib/ui-registry.ts","../lib/helpers.ts","../lib/indie-delegate.ts","../lib/indie-registry.ts","../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/now.js","../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_trimmedEndIndex.js","../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseTrim.js","../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/isSymbol.js","../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/isObjectLike.js","../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/toNumber.js","../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/debounce.js","../lib/message-registry.ts","../lib/linter-registry.ts","../lib/editor-linter.ts","../lib/editor-registry.ts","../lib/commands.ts","../lib/toggle-view.ts","../lib/index.ts","../lib/main.ts"],"sourcesContent":["var freeGlobal = require('./_freeGlobal');\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\nmodule.exports = root;\n","/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\nmodule.exports = freeGlobal;\n","var root = require('./_root');\n\n/** Built-in value references. */\nvar Symbol = root.Symbol;\n\nmodule.exports = Symbol;\n","var Symbol = require('./_Symbol');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty.call(value, symToStringTag),\n      tag = value[symToStringTag];\n\n  try {\n    value[symToStringTag] = undefined;\n    var unmasked = true;\n  } catch (e) {}\n\n  var result = nativeObjectToString.call(value);\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag] = tag;\n    } else {\n      delete value[symToStringTag];\n    }\n  }\n  return result;\n}\n\nmodule.exports = getRawTag;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString.call(value);\n}\n\nmodule.exports = objectToString;\n","var Symbol = require('./_Symbol'),\n    getRawTag = require('./_getRawTag'),\n    objectToString = require('./_objectToString');\n\n/** `Object#toString` result references. */\nvar nullTag = '[object Null]',\n    undefinedTag = '[object Undefined]';\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n  return (symToStringTag && symToStringTag in Object(value))\n    ? getRawTag(value)\n    : objectToString(value);\n}\n\nmodule.exports = baseGetTag;\n","/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return value != null && (type == 'object' || type == 'function');\n}\n\nmodule.exports = isObject;\n","var baseGetTag = require('./_baseGetTag'),\n    isObject = require('./isObject');\n\n/** `Object#toString` result references. */\nvar asyncTag = '[object AsyncFunction]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    proxyTag = '[object Proxy]';\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  if (!isObject(value)) {\n    return false;\n  }\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 9 which returns 'object' for typed arrays and other constructors.\n  var tag = baseGetTag(value);\n  return tag == funcTag || tag == genTag || tag == asyncTag || tag == proxyTag;\n}\n\nmodule.exports = isFunction;\n","var coreJsData = require('./_coreJsData');\n\n/** Used to detect methods masquerading as native. */\nvar maskSrcKey = (function() {\n  var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');\n  return uid ? ('Symbol(src)_1.' + uid) : '';\n}());\n\n/**\n * Checks if `func` has its source masked.\n *\n * @private\n * @param {Function} func The function to check.\n * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n */\nfunction isMasked(func) {\n  return !!maskSrcKey && (maskSrcKey in func);\n}\n\nmodule.exports = isMasked;\n","var root = require('./_root');\n\n/** Used to detect overreaching core-js shims. */\nvar coreJsData = root['__core-js_shared__'];\n\nmodule.exports = coreJsData;\n","/** Used for built-in method references. */\nvar funcProto = Function.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/**\n * Converts `func` to its source code.\n *\n * @private\n * @param {Function} func The function to convert.\n * @returns {string} Returns the source code.\n */\nfunction toSource(func) {\n  if (func != null) {\n    try {\n      return funcToString.call(func);\n    } catch (e) {}\n    try {\n      return (func + '');\n    } catch (e) {}\n  }\n  return '';\n}\n\nmodule.exports = toSource;\n","var isFunction = require('./isFunction'),\n    isMasked = require('./_isMasked'),\n    isObject = require('./isObject'),\n    toSource = require('./_toSource');\n\n/**\n * Used to match `RegExp`\n * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n */\nvar reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\n\n/** Used to detect host constructors (Safari). */\nvar reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n/** Used for built-in method references. */\nvar funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Used to detect if a method is native. */\nvar reIsNative = RegExp('^' +\n  funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\\\$&')\n  .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n);\n\n/**\n * The base implementation of `_.isNative` without bad shim checks.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a native function,\n *  else `false`.\n */\nfunction baseIsNative(value) {\n  if (!isObject(value) || isMasked(value)) {\n    return false;\n  }\n  var pattern = isFunction(value) ? reIsNative : reIsHostCtor;\n  return pattern.test(toSource(value));\n}\n\nmodule.exports = baseIsNative;\n","var baseIsNative = require('./_baseIsNative'),\n    getValue = require('./_getValue');\n\n/**\n * Gets the native function at `key` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the method to get.\n * @returns {*} Returns the function if it's native, else `undefined`.\n */\nfunction getNative(object, key) {\n  var value = getValue(object, key);\n  return baseIsNative(value) ? value : undefined;\n}\n\nmodule.exports = getNative;\n","/**\n * Gets the value at `key` of `object`.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction getValue(object, key) {\n  return object == null ? undefined : object[key];\n}\n\nmodule.exports = getValue;\n","var getNative = require('./_getNative');\n\n/* Built-in method references that are verified to be native. */\nvar nativeCreate = getNative(Object, 'create');\n\nmodule.exports = nativeCreate;\n","var nativeCreate = require('./_nativeCreate');\n\n/**\n * Removes all key-value entries from the hash.\n *\n * @private\n * @name clear\n * @memberOf Hash\n */\nfunction hashClear() {\n  this.__data__ = nativeCreate ? nativeCreate(null) : {};\n  this.size = 0;\n}\n\nmodule.exports = hashClear;\n","/**\n * Removes `key` and its value from the hash.\n *\n * @private\n * @name delete\n * @memberOf Hash\n * @param {Object} hash The hash to modify.\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction hashDelete(key) {\n  var result = this.has(key) && delete this.__data__[key];\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\nmodule.exports = hashDelete;\n","var nativeCreate = require('./_nativeCreate');\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Gets the hash value for `key`.\n *\n * @private\n * @name get\n * @memberOf Hash\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction hashGet(key) {\n  var data = this.__data__;\n  if (nativeCreate) {\n    var result = data[key];\n    return result === HASH_UNDEFINED ? undefined : result;\n  }\n  return hasOwnProperty.call(data, key) ? data[key] : undefined;\n}\n\nmodule.exports = hashGet;\n","var nativeCreate = require('./_nativeCreate');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Checks if a hash value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Hash\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction hashHas(key) {\n  var data = this.__data__;\n  return nativeCreate ? (data[key] !== undefined) : hasOwnProperty.call(data, key);\n}\n\nmodule.exports = hashHas;\n","var nativeCreate = require('./_nativeCreate');\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/**\n * Sets the hash `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Hash\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the hash instance.\n */\nfunction hashSet(key, value) {\n  var data = this.__data__;\n  this.size += this.has(key) ? 0 : 1;\n  data[key] = (nativeCreate && value === undefined) ? HASH_UNDEFINED : value;\n  return this;\n}\n\nmodule.exports = hashSet;\n","var hashClear = require('./_hashClear'),\n    hashDelete = require('./_hashDelete'),\n    hashGet = require('./_hashGet'),\n    hashHas = require('./_hashHas'),\n    hashSet = require('./_hashSet');\n\n/**\n * Creates a hash object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Hash(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `Hash`.\nHash.prototype.clear = hashClear;\nHash.prototype['delete'] = hashDelete;\nHash.prototype.get = hashGet;\nHash.prototype.has = hashHas;\nHash.prototype.set = hashSet;\n\nmodule.exports = Hash;\n","/**\n * Removes all key-value entries from the list cache.\n *\n * @private\n * @name clear\n * @memberOf ListCache\n */\nfunction listCacheClear() {\n  this.__data__ = [];\n  this.size = 0;\n}\n\nmodule.exports = listCacheClear;\n","var eq = require('./eq');\n\n/**\n * Gets the index at which the `key` is found in `array` of key-value pairs.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} key The key to search for.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction assocIndexOf(array, key) {\n  var length = array.length;\n  while (length--) {\n    if (eq(array[length][0], key)) {\n      return length;\n    }\n  }\n  return -1;\n}\n\nmodule.exports = assocIndexOf;\n","/**\n * Performs a\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * comparison between two values to determine if they are equivalent.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.eq(object, object);\n * // => true\n *\n * _.eq(object, other);\n * // => false\n *\n * _.eq('a', 'a');\n * // => true\n *\n * _.eq('a', Object('a'));\n * // => false\n *\n * _.eq(NaN, NaN);\n * // => true\n */\nfunction eq(value, other) {\n  return value === other || (value !== value && other !== other);\n}\n\nmodule.exports = eq;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/** Used for built-in method references. */\nvar arrayProto = Array.prototype;\n\n/** Built-in value references. */\nvar splice = arrayProto.splice;\n\n/**\n * Removes `key` and its value from the list cache.\n *\n * @private\n * @name delete\n * @memberOf ListCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction listCacheDelete(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    return false;\n  }\n  var lastIndex = data.length - 1;\n  if (index == lastIndex) {\n    data.pop();\n  } else {\n    splice.call(data, index, 1);\n  }\n  --this.size;\n  return true;\n}\n\nmodule.exports = listCacheDelete;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/**\n * Gets the list cache value for `key`.\n *\n * @private\n * @name get\n * @memberOf ListCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction listCacheGet(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  return index < 0 ? undefined : data[index][1];\n}\n\nmodule.exports = listCacheGet;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/**\n * Checks if a list cache value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf ListCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction listCacheHas(key) {\n  return assocIndexOf(this.__data__, key) > -1;\n}\n\nmodule.exports = listCacheHas;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/**\n * Sets the list cache `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf ListCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the list cache instance.\n */\nfunction listCacheSet(key, value) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    ++this.size;\n    data.push([key, value]);\n  } else {\n    data[index][1] = value;\n  }\n  return this;\n}\n\nmodule.exports = listCacheSet;\n","var listCacheClear = require('./_listCacheClear'),\n    listCacheDelete = require('./_listCacheDelete'),\n    listCacheGet = require('./_listCacheGet'),\n    listCacheHas = require('./_listCacheHas'),\n    listCacheSet = require('./_listCacheSet');\n\n/**\n * Creates an list cache object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction ListCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `ListCache`.\nListCache.prototype.clear = listCacheClear;\nListCache.prototype['delete'] = listCacheDelete;\nListCache.prototype.get = listCacheGet;\nListCache.prototype.has = listCacheHas;\nListCache.prototype.set = listCacheSet;\n\nmodule.exports = ListCache;\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar Map = getNative(root, 'Map');\n\nmodule.exports = Map;\n","var Hash = require('./_Hash'),\n    ListCache = require('./_ListCache'),\n    Map = require('./_Map');\n\n/**\n * Removes all key-value entries from the map.\n *\n * @private\n * @name clear\n * @memberOf MapCache\n */\nfunction mapCacheClear() {\n  this.size = 0;\n  this.__data__ = {\n    'hash': new Hash,\n    'map': new (Map || ListCache),\n    'string': new Hash\n  };\n}\n\nmodule.exports = mapCacheClear;\n","var isKeyable = require('./_isKeyable');\n\n/**\n * Gets the data for `map`.\n *\n * @private\n * @param {Object} map The map to query.\n * @param {string} key The reference key.\n * @returns {*} Returns the map data.\n */\nfunction getMapData(map, key) {\n  var data = map.__data__;\n  return isKeyable(key)\n    ? data[typeof key == 'string' ? 'string' : 'hash']\n    : data.map;\n}\n\nmodule.exports = getMapData;\n","/**\n * Checks if `value` is suitable for use as unique object key.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is suitable, else `false`.\n */\nfunction isKeyable(value) {\n  var type = typeof value;\n  return (type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean')\n    ? (value !== '__proto__')\n    : (value === null);\n}\n\nmodule.exports = isKeyable;\n","var getMapData = require('./_getMapData');\n\n/**\n * Removes `key` and its value from the map.\n *\n * @private\n * @name delete\n * @memberOf MapCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction mapCacheDelete(key) {\n  var result = getMapData(this, key)['delete'](key);\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\nmodule.exports = mapCacheDelete;\n","var getMapData = require('./_getMapData');\n\n/**\n * Gets the map value for `key`.\n *\n * @private\n * @name get\n * @memberOf MapCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction mapCacheGet(key) {\n  return getMapData(this, key).get(key);\n}\n\nmodule.exports = mapCacheGet;\n","var getMapData = require('./_getMapData');\n\n/**\n * Checks if a map value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf MapCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction mapCacheHas(key) {\n  return getMapData(this, key).has(key);\n}\n\nmodule.exports = mapCacheHas;\n","var getMapData = require('./_getMapData');\n\n/**\n * Sets the map `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf MapCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the map cache instance.\n */\nfunction mapCacheSet(key, value) {\n  var data = getMapData(this, key),\n      size = data.size;\n\n  data.set(key, value);\n  this.size += data.size == size ? 0 : 1;\n  return this;\n}\n\nmodule.exports = mapCacheSet;\n","var mapCacheClear = require('./_mapCacheClear'),\n    mapCacheDelete = require('./_mapCacheDelete'),\n    mapCacheGet = require('./_mapCacheGet'),\n    mapCacheHas = require('./_mapCacheHas'),\n    mapCacheSet = require('./_mapCacheSet');\n\n/**\n * Creates a map cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction MapCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `MapCache`.\nMapCache.prototype.clear = mapCacheClear;\nMapCache.prototype['delete'] = mapCacheDelete;\nMapCache.prototype.get = mapCacheGet;\nMapCache.prototype.has = mapCacheHas;\nMapCache.prototype.set = mapCacheSet;\n\nmodule.exports = MapCache;\n","var MapCache = require('./_MapCache'),\n    setCacheAdd = require('./_setCacheAdd'),\n    setCacheHas = require('./_setCacheHas');\n\n/**\n *\n * Creates an array cache object to store unique values.\n *\n * @private\n * @constructor\n * @param {Array} [values] The values to cache.\n */\nfunction SetCache(values) {\n  var index = -1,\n      length = values == null ? 0 : values.length;\n\n  this.__data__ = new MapCache;\n  while (++index < length) {\n    this.add(values[index]);\n  }\n}\n\n// Add methods to `SetCache`.\nSetCache.prototype.add = SetCache.prototype.push = setCacheAdd;\nSetCache.prototype.has = setCacheHas;\n\nmodule.exports = SetCache;\n","/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/**\n * Adds `value` to the array cache.\n *\n * @private\n * @name add\n * @memberOf SetCache\n * @alias push\n * @param {*} value The value to cache.\n * @returns {Object} Returns the cache instance.\n */\nfunction setCacheAdd(value) {\n  this.__data__.set(value, HASH_UNDEFINED);\n  return this;\n}\n\nmodule.exports = setCacheAdd;\n","/**\n * Checks if `value` is in the array cache.\n *\n * @private\n * @name has\n * @memberOf SetCache\n * @param {*} value The value to search for.\n * @returns {number} Returns `true` if `value` is found, else `false`.\n */\nfunction setCacheHas(value) {\n  return this.__data__.has(value);\n}\n\nmodule.exports = setCacheHas;\n","var baseFindIndex = require('./_baseFindIndex'),\n    baseIsNaN = require('./_baseIsNaN'),\n    strictIndexOf = require('./_strictIndexOf');\n\n/**\n * The base implementation of `_.indexOf` without `fromIndex` bounds checks.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} value The value to search for.\n * @param {number} fromIndex The index to search from.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction baseIndexOf(array, value, fromIndex) {\n  return value === value\n    ? strictIndexOf(array, value, fromIndex)\n    : baseFindIndex(array, baseIsNaN, fromIndex);\n}\n\nmodule.exports = baseIndexOf;\n","/**\n * The base implementation of `_.findIndex` and `_.findLastIndex` without\n * support for iteratee shorthands.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {Function} predicate The function invoked per iteration.\n * @param {number} fromIndex The index to search from.\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction baseFindIndex(array, predicate, fromIndex, fromRight) {\n  var length = array.length,\n      index = fromIndex + (fromRight ? 1 : -1);\n\n  while ((fromRight ? index-- : ++index < length)) {\n    if (predicate(array[index], index, array)) {\n      return index;\n    }\n  }\n  return -1;\n}\n\nmodule.exports = baseFindIndex;\n","/**\n * The base implementation of `_.isNaN` without support for number objects.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is `NaN`, else `false`.\n */\nfunction baseIsNaN(value) {\n  return value !== value;\n}\n\nmodule.exports = baseIsNaN;\n","/**\n * A specialized version of `_.indexOf` which performs strict equality\n * comparisons of values, i.e. `===`.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} value The value to search for.\n * @param {number} fromIndex The index to search from.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction strictIndexOf(array, value, fromIndex) {\n  var index = fromIndex - 1,\n      length = array.length;\n\n  while (++index < length) {\n    if (array[index] === value) {\n      return index;\n    }\n  }\n  return -1;\n}\n\nmodule.exports = strictIndexOf;\n","var baseIndexOf = require('./_baseIndexOf');\n\n/**\n * A specialized version of `_.includes` for arrays without support for\n * specifying an index to search from.\n *\n * @private\n * @param {Array} [array] The array to inspect.\n * @param {*} target The value to search for.\n * @returns {boolean} Returns `true` if `target` is found, else `false`.\n */\nfunction arrayIncludes(array, value) {\n  var length = array == null ? 0 : array.length;\n  return !!length && baseIndexOf(array, value, 0) > -1;\n}\n\nmodule.exports = arrayIncludes;\n","/**\n * This function is like `arrayIncludes` except that it accepts a comparator.\n *\n * @private\n * @param {Array} [array] The array to inspect.\n * @param {*} target The value to search for.\n * @param {Function} comparator The comparator invoked per element.\n * @returns {boolean} Returns `true` if `target` is found, else `false`.\n */\nfunction arrayIncludesWith(array, value, comparator) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  while (++index < length) {\n    if (comparator(value, array[index])) {\n      return true;\n    }\n  }\n  return false;\n}\n\nmodule.exports = arrayIncludesWith;\n","/**\n * Checks if a `cache` value for `key` exists.\n *\n * @private\n * @param {Object} cache The cache to query.\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction cacheHas(cache, key) {\n  return cache.has(key);\n}\n\nmodule.exports = cacheHas;\n","/**\n * Converts `set` to an array of its values.\n *\n * @private\n * @param {Object} set The set to convert.\n * @returns {Array} Returns the values.\n */\nfunction setToArray(set) {\n  var index = -1,\n      result = Array(set.size);\n\n  set.forEach(function(value) {\n    result[++index] = value;\n  });\n  return result;\n}\n\nmodule.exports = setToArray;\n","var Set = require('./_Set'),\n    noop = require('./noop'),\n    setToArray = require('./_setToArray');\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0;\n\n/**\n * Creates a set object of `values`.\n *\n * @private\n * @param {Array} values The values to add to the set.\n * @returns {Object} Returns the new set.\n */\nvar createSet = !(Set && (1 / setToArray(new Set([,-0]))[1]) == INFINITY) ? noop : function(values) {\n  return new Set(values);\n};\n\nmodule.exports = createSet;\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar Set = getNative(root, 'Set');\n\nmodule.exports = Set;\n","/**\n * This method returns `undefined`.\n *\n * @static\n * @memberOf _\n * @since 2.3.0\n * @category Util\n * @example\n *\n * _.times(2, _.noop);\n * // => [undefined, undefined]\n */\nfunction noop() {\n  // No operation performed.\n}\n\nmodule.exports = noop;\n","var SetCache = require('./_SetCache'),\n    arrayIncludes = require('./_arrayIncludes'),\n    arrayIncludesWith = require('./_arrayIncludesWith'),\n    cacheHas = require('./_cacheHas'),\n    createSet = require('./_createSet'),\n    setToArray = require('./_setToArray');\n\n/** Used as the size to enable large array optimizations. */\nvar LARGE_ARRAY_SIZE = 200;\n\n/**\n * The base implementation of `_.uniqBy` without support for iteratee shorthands.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {Function} [iteratee] The iteratee invoked per element.\n * @param {Function} [comparator] The comparator invoked per element.\n * @returns {Array} Returns the new duplicate free array.\n */\nfunction baseUniq(array, iteratee, comparator) {\n  var index = -1,\n      includes = arrayIncludes,\n      length = array.length,\n      isCommon = true,\n      result = [],\n      seen = result;\n\n  if (comparator) {\n    isCommon = false;\n    includes = arrayIncludesWith;\n  }\n  else if (length >= LARGE_ARRAY_SIZE) {\n    var set = iteratee ? null : createSet(array);\n    if (set) {\n      return setToArray(set);\n    }\n    isCommon = false;\n    includes = cacheHas;\n    seen = new SetCache;\n  }\n  else {\n    seen = iteratee ? [] : result;\n  }\n  outer:\n  while (++index < length) {\n    var value = array[index],\n        computed = iteratee ? iteratee(value) : value;\n\n    value = (comparator || value !== 0) ? value : 0;\n    if (isCommon && computed === computed) {\n      var seenIndex = seen.length;\n      while (seenIndex--) {\n        if (seen[seenIndex] === computed) {\n          continue outer;\n        }\n      }\n      if (iteratee) {\n        seen.push(computed);\n      }\n      result.push(value);\n    }\n    else if (!includes(seen, computed, comparator)) {\n      if (seen !== result) {\n        seen.push(computed);\n      }\n      result.push(value);\n    }\n  }\n  return result;\n}\n\nmodule.exports = baseUniq;\n","var baseUniq = require('./_baseUniq');\n\n/**\n * Creates a duplicate-free version of an array, using\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * for equality comparisons, in which only the first occurrence of each element\n * is kept. The order of result values is determined by the order they occur\n * in the array.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Array\n * @param {Array} array The array to inspect.\n * @returns {Array} Returns the new duplicate free array.\n * @example\n *\n * _.uniq([2, 1, 2]);\n * // => [2, 1]\n */\nfunction uniq(array) {\n  return (array && array.length) ? baseUniq(array) : [];\n}\n\nmodule.exports = uniq;\n","export function showError(title: string, description: string, points: Array<string>) {\n  const renderedPoints = points.map(item => `  â€¢ ${item}`)\n  atom.notifications.addWarning(`[Linter] ${title}`, {\n    dismissable: true,\n    detail: `${description}\\n${renderedPoints.join('\\n')}`,\n  })\n}\n","import { Range, Point } from 'atom'\nimport { showError } from './helpers'\nimport type { UI, Linter, Message, Indie } from '../types'\n\nconst VALID_SEVERITY = new Set(['error', 'warning', 'info'])\n\nfunction validateUI(ui: UI): boolean {\n  const messages = []\n\n  if (ui && typeof ui === 'object') {\n    if (typeof ui.name !== 'string') {\n      messages.push('UI.name must be a string')\n    }\n    if (typeof ui.didBeginLinting !== 'function') {\n      messages.push('UI.didBeginLinting must be a function')\n    }\n    if (typeof ui.didFinishLinting !== 'function') {\n      messages.push('UI.didFinishLinting must be a function')\n    }\n    if (typeof ui.render !== 'function') {\n      messages.push('UI.render must be a function')\n    }\n    if (typeof ui.dispose !== 'function') {\n      messages.push('UI.dispose must be a function')\n    }\n  } else {\n    messages.push('UI must be an object')\n  }\n\n  if (messages.length) {\n    showError(\n      'Invalid UI received',\n      `These issues were encountered while registering the UI named '${ui && ui.name ? ui.name : 'Unknown'}'`,\n      messages,\n    )\n    return false\n  }\n\n  return true\n}\n\nfunction validateLinter(linter: Linter): boolean {\n  const messages = []\n\n  if (linter && typeof linter === 'object') {\n    if (typeof linter.name !== 'string') {\n      messages.push('Linter.name must be a string')\n    }\n    if (typeof linter.scope !== 'string' || (linter.scope !== 'file' && linter.scope !== 'project')) {\n      messages.push(\"Linter.scope must be either 'file' or 'project'\")\n    }\n    if (typeof linter.lintsOnChange !== 'boolean') {\n      messages.push('Linter.lintsOnChange must be a boolean')\n    }\n    if (!Array.isArray(linter.grammarScopes)) {\n      messages.push('Linter.grammarScopes must be an Array')\n    }\n    if (typeof linter.lint !== 'function') {\n      messages.push('Linter.lint must be a function')\n    }\n  } else {\n    messages.push('Linter must be an object')\n  }\n\n  if (messages.length) {\n    showError(\n      'Invalid Linter received',\n      `These issues were encountered while registering a Linter named '${linter && linter.name ? linter.name : 'Unknown'}'`,\n      messages,\n    )\n    return false\n  }\n\n  return true\n}\n\nfunction validateIndie(indie: Indie): boolean {\n  const messages = []\n\n  if (indie && typeof indie === 'object') {\n    if (typeof indie.name !== 'string') {\n      messages.push('Indie.name must be a string')\n    }\n  } else {\n    messages.push('Indie must be an object')\n  }\n\n  if (messages.length) {\n    showError(\n      'Invalid Indie received',\n      `These issues were encountered while registering an Indie Linter named '${\n        indie && indie.name ? indie.name : 'Unknown'\n      }'`,\n      messages,\n    )\n    return false\n  }\n\n  return true\n}\n\nfunction validateMessages(linterName: string, entries: Array<Message>): boolean {\n  const messages = []\n\n  if (Array.isArray(entries)) {\n    let invalidURL = false\n    let invalidIcon = false\n    let invalidExcerpt = false\n    let invalidLocation = false\n    let invalidSeverity = false\n    let invalidSolution = false\n    let invalidReference = false\n    let invalidDescription = false\n    let invalidLinterName = false\n\n    for (let i = 0, { length } = entries; i < length; ++i) {\n      const message = entries[i]\n      const { reference } = message\n      if (!invalidIcon && message.icon && typeof message.icon !== 'string') {\n        invalidIcon = true\n        messages.push('Message.icon must be a string')\n      }\n      if (\n        !invalidLocation &&\n        (!message.location ||\n          typeof message.location !== 'object' ||\n          typeof message.location.file !== 'string' ||\n          typeof message.location.position !== 'object' ||\n          !message.location.position)\n      ) {\n        invalidLocation = true\n        messages.push('Message.location must be valid')\n      } else if (!invalidLocation) {\n        const range = Range.fromObject(message.location.position)\n        if (\n          Number.isNaN(range.start.row) ||\n          Number.isNaN(range.start.column) ||\n          Number.isNaN(range.end.row) ||\n          Number.isNaN(range.end.column)\n        ) {\n          invalidLocation = true\n          messages.push('Message.location.position should not contain NaN coordinates')\n        }\n      }\n      if (\n        !invalidSolution &&\n        message.solutions &&\n        !Array.isArray(message.solutions) &&\n        !(message.solutions instanceof Promise)\n      ) {\n        invalidSolution = true\n        messages.push('Message.solutions must be valid')\n      }\n      if (\n        !invalidReference &&\n        reference &&\n        (typeof reference !== 'object' ||\n          typeof reference.file !== 'string' ||\n          typeof reference.position !== 'object' ||\n          !reference.position)\n      ) {\n        invalidReference = true\n        messages.push('Message.reference must be valid')\n      } else if (!invalidReference && reference && reference.position !== undefined) {\n        const position = Point.fromObject(reference.position)\n        if (Number.isNaN(position.row) || Number.isNaN(position.column)) {\n          invalidReference = true\n          messages.push('Message.reference.position should not contain NaN coordinates')\n        }\n      }\n      if (!invalidExcerpt && typeof message.excerpt !== 'string') {\n        invalidExcerpt = true\n        messages.push('Message.excerpt must be a string')\n      }\n      if (!invalidSeverity && !VALID_SEVERITY.has(message.severity)) {\n        invalidSeverity = true\n        messages.push(\"Message.severity must be 'error', 'warning' or 'info'\")\n      }\n      if (!invalidURL && message.url && typeof message.url !== 'string') {\n        invalidURL = true\n        messages.push('Message.url must be a string')\n      }\n      if (\n        !invalidDescription &&\n        message.description &&\n        typeof message.description !== 'function' &&\n        typeof message.description !== 'string'\n      ) {\n        invalidDescription = true\n        messages.push('Message.description must be a function or string')\n      }\n      if (!invalidLinterName && message.linterName && typeof message.linterName !== 'string') {\n        invalidLinterName = true\n        messages.push('Message.linterName must be a string')\n      }\n    }\n  } else {\n    messages.push('Linter Result must be an Array')\n  }\n\n  if (messages.length) {\n    showError(\n      'Invalid Linter Result received',\n      `These issues were encountered while processing messages from a linter named '${linterName}'`,\n      messages,\n    )\n    return false\n  }\n\n  return true\n}\n\nexport { validateUI as ui, validateLinter as linter, validateIndie as indie, validateMessages as messages }\n","import { CompositeDisposable } from 'atom'\nimport { ui as validateUI } from './validate'\nimport type { Linter, UI, MessagesPatch } from './types'\n\nexport default class UIRegistry {\n  private providers: Set<UI> = new Set()\n  private subscriptions: CompositeDisposable = new CompositeDisposable()\n\n  add(ui: UI) {\n    if (!this.providers.has(ui) && validateUI(ui)) {\n      this.subscriptions.add(ui)\n      this.providers.add(ui)\n    }\n  }\n  delete(provider: UI) {\n    if (this.providers.has(provider)) {\n      provider.dispose()\n      this.providers.delete(provider)\n    }\n  }\n  getProviders(): Array<UI> {\n    return Array.from(this.providers)\n  }\n  render(messages: MessagesPatch) {\n    this.providers.forEach(function (provider) {\n      provider.render(messages)\n    })\n  }\n  didBeginLinting(linter: Linter, filePath: string) {\n    this.providers.forEach(function (provider) {\n      provider.didBeginLinting(linter, filePath)\n    })\n  }\n  didFinishLinting(linter: Linter, filePath: string) {\n    this.providers.forEach(function (provider) {\n      provider.didFinishLinting(linter, filePath)\n    })\n  }\n  dispose() {\n    this.providers.clear()\n    this.subscriptions.dispose()\n  }\n}\n","import arrayUnique from 'lodash/uniq'\nimport { Directory, Range, Point, PointCompatible, RangeCompatible } from 'atom'\nimport type { TextEditor } from 'atom'\nimport type { Linter, Message, MessageSolution, MessageLike, MessageSolutionLike } from './types'\n\nexport const $version = '__$sb_linter_version'\nexport const $activated = '__$sb_linter_activated'\nexport const $requestLatest = '__$sb_linter_request_latest'\nexport const $requestLastReceived = '__$sb_linter_request_last_received'\n\nexport function shouldTriggerLinter(linter: Linter, wasTriggeredOnChange: boolean, scopes: Array<string>): boolean {\n  if (wasTriggeredOnChange && !linter.lintsOnChange) {\n    return false\n  }\n  return scopes.some(function (scope) {\n    return linter.grammarScopes.includes(scope)\n  })\n}\n\nexport function getEditorCursorScopes(textEditor: TextEditor): Array<string> {\n  return arrayUnique(\n    textEditor.getCursors().reduce((scopes, cursor) => scopes.concat(cursor.getScopeDescriptor().getScopesArray()), ['*']),\n  )\n}\n\nlet minimatch: typeof import('minimatch')\nexport async function isPathIgnored(\n  filePath: string | null | undefined,\n  ignoredGlob: string,\n  ignoredVCS: boolean,\n): Promise<boolean> {\n  if (!filePath) {\n    return true\n  }\n\n  if (ignoredVCS) {\n    const directory = new Directory(filePath)\n    const repository = await atom.project.repositoryForDirectory(directory)\n    if (repository && repository.isPathIgnored(filePath)) {\n      return true\n    }\n  }\n  const normalizedFilePath = process.platform === 'win32' ? filePath.replace(/\\\\/g, '/') : filePath\n  if (!minimatch) {\n    minimatch = require('minimatch')\n  }\n  return minimatch(normalizedFilePath, ignoredGlob)\n}\n\nexport function updateMessageKey(message: Message) {\n  const { reference, location } = message\n  message.key = [\n    `$LINTER:${message.linterName}`,\n    `$LOCATION:${location.file}$${location.position.start.row}$${location.position.start.column}$${location.position.end.row}$${location.position.end.column}`,\n    reference\n      ? `$REFERENCE:${reference.file}$${reference.position ? `${reference.position.row}$${reference.position.column}` : ''}`\n      : '$REFERENCE:null',\n    `$EXCERPT:${message.excerpt}`,\n    `$SEVERITY:${message.severity}`,\n    message.icon ? `$ICON:${message.icon}` : '$ICON:null',\n    message.url ? `$URL:${message.url}` : '$URL:null',\n    typeof message.description === 'string' ? `$DESCRIPTION:${message.description}` : '$DESCRIPTION:null',\n  ].join('')\n}\n\nexport function normalizeMessages(linterName: string, messages: Array<Message | MessageLike>) {\n  for (let i = 0, { length } = messages; i < length; ++i) {\n    const message = messages[i]\n    const { reference, solutions } = message\n    // convert RangeCompatible to Range and PointCompatible to Point\n    // NOTE (this is not covered in the types, but done for backward compatibility)\n    message.location.position = getRangeClass(message.location.position)\n    if (reference !== undefined && reference.position !== undefined) {\n      reference.position = getPointClass(reference.position)\n    }\n    if (Array.isArray(solutions)) {\n      // NOTE if solutions is a {Promise<MessageSolutionLike[]>} of an array, we don't normalize them!\n      for (let j = 0, _length = solutions.length; j < _length; j++) {\n        const solution: MessageSolution | MessageSolutionLike = solutions[j]\n        solution.position = getRangeClass(solution.position)\n      }\n    }\n    message.version = 2\n    if (!message.linterName) {\n      message.linterName = linterName\n    }\n    // now the message is a {Message}\n    updateMessageKey(message as Message)\n  }\n}\n\n/* convert RangeCompatible to Range */\nfunction getPointClass(point: Point | PointCompatible): Point {\n  if (!(point instanceof Point)) {\n    return Point.fromObject(point)\n  }\n  return point\n}\n\n/* convert RangeCompatible to Range */\nfunction getRangeClass(range: Range | RangeCompatible): Range {\n  if (!(range instanceof Range)) {\n    return Range.fromObject(range)\n  }\n  return range\n}\n\n// update the key of the given messages\nexport function updateKeys(messages: Array<Message>) {\n  messages.forEach(m => {\n    updateMessageKey(m)\n  })\n}\n\n// create a map from keys to messages\nexport function createKeyMessageMap(messages: Array<Message>): Map<string, Message> {\n  const keyMessageMap = new Map()\n  for (let i = 0, { length } = messages; i < length; ++i) {\n    const message = messages[i]\n    keyMessageMap.set(message.key, message)\n  }\n  return keyMessageMap\n}\n\ninterface FlaggedMessages {\n  oldKept: Array<Message>\n  oldRemoved: Array<Message>\n  newAdded: Array<Message>\n}\n\n// This fast function returns the new messages and old messages by comparing their key against the cache.\n// This prevents re-rendering the already rendered messages\nexport function flagMessages(inputs: Array<Message>, oldMessages: Array<Message>): FlaggedMessages | null {\n  // inputs check\n  if (inputs === undefined || oldMessages === undefined) {\n    return null\n  }\n\n  // All the messages of the linter are new, no need to diff\n  // tag the messages for adding and save them to linter's cache\n  if (!oldMessages.length) {\n    // NOTE: No need to add .key here because normalizeMessages already does that\n    return { oldKept: [], oldRemoved: [], newAdded: inputs }\n  }\n\n  // The linter has no messages anymore\n  // tag all of its messages from cache for removal and empty the cache\n  if (!inputs.length) {\n    return { oldKept: [], oldRemoved: oldMessages, newAdded: [] }\n  }\n\n  // In all the other situations:\n  // perform diff checking between the linter's new messages and its cache\n\n  // create a map from keys to oldMessages\n  const cache = createKeyMessageMap(oldMessages)\n\n  // Find old kept and new added\n  const newAdded: Set<Message> = new Set()\n  const oldKept: Map<string, Message> = new Map()\n  for (let iInput = 0, len = inputs.length; iInput < len; iInput++) {\n    const input = inputs[iInput]\n    if (cache.has(input.key)) {\n      oldKept.set(input.key, input)\n    } else {\n      newAdded.add(input)\n    }\n  }\n\n  // Find old removed\n  const cacheKeys = Array.from(cache.keys())\n  const oldKeptKeys = Array.from(oldKept.keys())\n\n  const oldRemovedKeys = cacheKeys.filter(x => !oldKeptKeys.includes(x))\n\n  const oldRemoved: Set<Message> = new Set()\n  for (let iRemoved = 0, RemovedKeysLen = oldRemovedKeys.length; iRemoved < RemovedKeysLen; iRemoved++) {\n    // cache is created from oldMessages and oldRemovedKeys is a subset of oldMessages. So this will not be undefined\n    oldRemoved.add(cache.get(oldRemovedKeys[iRemoved]) as Message)\n  }\n\n  return {\n    oldKept: Array.from(oldKept.values()),\n    oldRemoved: [...oldRemoved],\n    newAdded: [...newAdded],\n  }\n}\n\n// fast mergeArray function\n// https://uilicious.com/blog/javascript-array-push-is-945x-faster-than-array-concat/\n/* eslint-disable-next-line @typescript-eslint/no-explicit-any */\nexport function mergeArray(arr1: Array<any>, arr2: Array<any>) {\n  if (!arr2.length) {\n    return\n  }\n  Array.prototype.push.apply(arr1, arr2)\n}\n","import { Emitter, CompositeDisposable } from 'atom'\nimport type { Disposable } from 'atom'\n\nimport * as Validate from './validate'\nimport { normalizeMessages, mergeArray } from './helpers'\nimport type { Indie, Message } from './types'\n\nexport default class IndieDelegate {\n  private indie: Indie\n  scope: 'project' = 'project'\n  private emitter: Emitter = new Emitter()\n  version: 2\n  private messages: Map<string | null | undefined, Array<Message>> = new Map()\n  private subscriptions: CompositeDisposable = new CompositeDisposable()\n\n  constructor(indie: Indie, version: 2) {\n    this.indie = indie\n    this.version = version\n    this.subscriptions.add(this.emitter)\n  }\n  get name(): string {\n    return this.indie.name\n  }\n  getMessages(): Array<Message> {\n    const out: Array<Message> = []\n    this.messages.forEach(m => {\n      mergeArray(out, m)\n    })\n    return out\n  }\n  clearMessages(): void {\n    if (!this.subscriptions.disposed) {\n      this.emitter.emit('did-update', [])\n      this.messages.clear()\n    }\n  }\n  setMessages(filePath: string | Array<Record<string, any>>, messages: Array<Message> | null | undefined = null): void {\n    // v2 Support from here on\n    if (typeof filePath !== 'string' || !Array.isArray(messages)) {\n      throw new Error('Invalid Parameters to setMessages()')\n    }\n    if (this.subscriptions.disposed || !Validate.messages(this.name, messages)) {\n      return\n    }\n    messages.forEach(function (message) {\n      if (message.location.file !== filePath) {\n        console.debug('[Linter-UI-Default] Expected File', filePath, 'Message', message)\n        throw new Error('message.location.file does not match the given filePath')\n      }\n    })\n\n    normalizeMessages(this.name, messages)\n    this.messages.set(filePath, messages)\n    this.emitter.emit('did-update', this.getMessages())\n  }\n  setAllMessages(messages: Array<Message>): void {\n    if (this.subscriptions.disposed) {\n      return\n    }\n\n    if (!Array.isArray(messages) || atom.inDevMode()) {\n      if (!Validate.messages(this.name, messages)) {\n        return\n      }\n    }\n    normalizeMessages(this.name, messages)\n\n    this.messages.clear()\n    for (let i = 0, { length } = messages; i < length; ++i) {\n      const message: Message = messages[i]\n      const filePath = message.location.file\n      let fileMessages = this.messages.get(filePath)\n      if (!fileMessages) {\n        this.messages.set(filePath, (fileMessages = []))\n      }\n      fileMessages.push(message)\n    }\n    this.emitter.emit('did-update', this.getMessages())\n  }\n\n  /* eslint-disable @typescript-eslint/no-explicit-any */\n  onDidUpdate(callback: (...args: Array<any>) => any): Disposable {\n    return this.emitter.on('did-update', callback)\n  }\n  onDidDestroy(callback: (...args: Array<any>) => any): Disposable {\n    return this.emitter.on('did-destroy', callback)\n  }\n  /* eslint-enable @typescript-eslint/no-explicit-any */\n\n  dispose(): void {\n    this.emitter.emit('did-destroy')\n    this.subscriptions.dispose()\n    this.messages.clear()\n  }\n}\n","import { Emitter, CompositeDisposable } from 'atom'\nimport type { Disposable } from 'atom'\n\nimport IndieDelegate from './indie-delegate'\nimport { indie as validateIndie } from './validate'\nimport type { Indie } from './types'\n\nexport default class IndieRegistry {\n  private emitter: Emitter = new Emitter()\n  private delegates: Set<IndieDelegate> = new Set()\n  private subscriptions: CompositeDisposable = new CompositeDisposable()\n\n  constructor() {\n    this.subscriptions.add(this.emitter)\n  }\n  // Public method\n  register(config: Indie, version: 2): IndieDelegate {\n    if (!validateIndie(config)) {\n      throw new Error('Error registering Indie Linter')\n    }\n    const indieLinter = new IndieDelegate(config, version)\n    this.delegates.add(indieLinter)\n    indieLinter.onDidDestroy(() => {\n      this.delegates.delete(indieLinter)\n    })\n    indieLinter.onDidUpdate(messages => {\n      this.emitter.emit('did-update', { linter: indieLinter, messages })\n    })\n    this.emitter.emit('observe', indieLinter)\n\n    return indieLinter\n  }\n  getProviders(): Array<IndieDelegate> {\n    return Array.from(this.delegates)\n  }\n\n  /* eslint-disable @typescript-eslint/no-explicit-any */\n  observe(callback: (...args: Array<any>) => any): Disposable {\n    this.delegates.forEach(callback)\n    return this.emitter.on('observe', callback)\n  }\n  onDidUpdate(callback: (...args: Array<any>) => any): Disposable {\n    return this.emitter.on('did-update', callback)\n  }\n  /* eslint-enable @typescript-eslint/no-explicit-any */\n\n  dispose() {\n    for (const entry of this.delegates) {\n      entry.dispose()\n    }\n    this.subscriptions.dispose()\n  }\n}\n","var root = require('./_root');\n\n/**\n * Gets the timestamp of the number of milliseconds that have elapsed since\n * the Unix epoch (1 January 1970 00:00:00 UTC).\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Date\n * @returns {number} Returns the timestamp.\n * @example\n *\n * _.defer(function(stamp) {\n *   console.log(_.now() - stamp);\n * }, _.now());\n * // => Logs the number of milliseconds it took for the deferred invocation.\n */\nvar now = function() {\n  return root.Date.now();\n};\n\nmodule.exports = now;\n","/** Used to match a single whitespace character. */\nvar reWhitespace = /\\s/;\n\n/**\n * Used by `_.trim` and `_.trimEnd` to get the index of the last non-whitespace\n * character of `string`.\n *\n * @private\n * @param {string} string The string to inspect.\n * @returns {number} Returns the index of the last non-whitespace character.\n */\nfunction trimmedEndIndex(string) {\n  var index = string.length;\n\n  while (index-- && reWhitespace.test(string.charAt(index))) {}\n  return index;\n}\n\nmodule.exports = trimmedEndIndex;\n","var trimmedEndIndex = require('./_trimmedEndIndex');\n\n/** Used to match leading whitespace. */\nvar reTrimStart = /^\\s+/;\n\n/**\n * The base implementation of `_.trim`.\n *\n * @private\n * @param {string} string The string to trim.\n * @returns {string} Returns the trimmed string.\n */\nfunction baseTrim(string) {\n  return string\n    ? string.slice(0, trimmedEndIndex(string) + 1).replace(reTrimStart, '')\n    : string;\n}\n\nmodule.exports = baseTrim;\n","var baseGetTag = require('./_baseGetTag'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && baseGetTag(value) == symbolTag);\n}\n\nmodule.exports = isSymbol;\n","/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return value != null && typeof value == 'object';\n}\n\nmodule.exports = isObjectLike;\n","var baseTrim = require('./_baseTrim'),\n    isObject = require('./isObject'),\n    isSymbol = require('./isSymbol');\n\n/** Used as references for various `Number` constants. */\nvar NAN = 0 / 0;\n\n/** Used to detect bad signed hexadecimal string values. */\nvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n/** Used to detect binary string values. */\nvar reIsBinary = /^0b[01]+$/i;\n\n/** Used to detect octal string values. */\nvar reIsOctal = /^0o[0-7]+$/i;\n\n/** Built-in method references without a dependency on `root`. */\nvar freeParseInt = parseInt;\n\n/**\n * Converts `value` to a number.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {number} Returns the number.\n * @example\n *\n * _.toNumber(3.2);\n * // => 3.2\n *\n * _.toNumber(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toNumber(Infinity);\n * // => Infinity\n *\n * _.toNumber('3.2');\n * // => 3.2\n */\nfunction toNumber(value) {\n  if (typeof value == 'number') {\n    return value;\n  }\n  if (isSymbol(value)) {\n    return NAN;\n  }\n  if (isObject(value)) {\n    var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n    value = isObject(other) ? (other + '') : other;\n  }\n  if (typeof value != 'string') {\n    return value === 0 ? value : +value;\n  }\n  value = baseTrim(value);\n  var isBinary = reIsBinary.test(value);\n  return (isBinary || reIsOctal.test(value))\n    ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\n    : (reIsBadHex.test(value) ? NAN : +value);\n}\n\nmodule.exports = toNumber;\n","var isObject = require('./isObject'),\n    now = require('./now'),\n    toNumber = require('./toNumber');\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max,\n    nativeMin = Math.min;\n\n/**\n * Creates a debounced function that delays invoking `func` until after `wait`\n * milliseconds have elapsed since the last time the debounced function was\n * invoked. The debounced function comes with a `cancel` method to cancel\n * delayed `func` invocations and a `flush` method to immediately invoke them.\n * Provide `options` to indicate whether `func` should be invoked on the\n * leading and/or trailing edge of the `wait` timeout. The `func` is invoked\n * with the last arguments provided to the debounced function. Subsequent\n * calls to the debounced function return the result of the last `func`\n * invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the debounced function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.debounce` and `_.throttle`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to debounce.\n * @param {number} [wait=0] The number of milliseconds to delay.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=false]\n *  Specify invoking on the leading edge of the timeout.\n * @param {number} [options.maxWait]\n *  The maximum time `func` is allowed to be delayed before it's invoked.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new debounced function.\n * @example\n *\n * // Avoid costly calculations while the window size is in flux.\n * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n *\n * // Invoke `sendMail` when clicked, debouncing subsequent calls.\n * jQuery(element).on('click', _.debounce(sendMail, 300, {\n *   'leading': true,\n *   'trailing': false\n * }));\n *\n * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\n * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });\n * var source = new EventSource('/stream');\n * jQuery(source).on('message', debounced);\n *\n * // Cancel the trailing debounced invocation.\n * jQuery(window).on('popstate', debounced.cancel);\n */\nfunction debounce(func, wait, options) {\n  var lastArgs,\n      lastThis,\n      maxWait,\n      result,\n      timerId,\n      lastCallTime,\n      lastInvokeTime = 0,\n      leading = false,\n      maxing = false,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  wait = toNumber(wait) || 0;\n  if (isObject(options)) {\n    leading = !!options.leading;\n    maxing = 'maxWait' in options;\n    maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n\n  function invokeFunc(time) {\n    var args = lastArgs,\n        thisArg = lastThis;\n\n    lastArgs = lastThis = undefined;\n    lastInvokeTime = time;\n    result = func.apply(thisArg, args);\n    return result;\n  }\n\n  function leadingEdge(time) {\n    // Reset any `maxWait` timer.\n    lastInvokeTime = time;\n    // Start the timer for the trailing edge.\n    timerId = setTimeout(timerExpired, wait);\n    // Invoke the leading edge.\n    return leading ? invokeFunc(time) : result;\n  }\n\n  function remainingWait(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime,\n        timeWaiting = wait - timeSinceLastCall;\n\n    return maxing\n      ? nativeMin(timeWaiting, maxWait - timeSinceLastInvoke)\n      : timeWaiting;\n  }\n\n  function shouldInvoke(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime;\n\n    // Either this is the first call, activity has stopped and we're at the\n    // trailing edge, the system time has gone backwards and we're treating\n    // it as the trailing edge, or we've hit the `maxWait` limit.\n    return (lastCallTime === undefined || (timeSinceLastCall >= wait) ||\n      (timeSinceLastCall < 0) || (maxing && timeSinceLastInvoke >= maxWait));\n  }\n\n  function timerExpired() {\n    var time = now();\n    if (shouldInvoke(time)) {\n      return trailingEdge(time);\n    }\n    // Restart the timer.\n    timerId = setTimeout(timerExpired, remainingWait(time));\n  }\n\n  function trailingEdge(time) {\n    timerId = undefined;\n\n    // Only invoke if we have `lastArgs` which means `func` has been\n    // debounced at least once.\n    if (trailing && lastArgs) {\n      return invokeFunc(time);\n    }\n    lastArgs = lastThis = undefined;\n    return result;\n  }\n\n  function cancel() {\n    if (timerId !== undefined) {\n      clearTimeout(timerId);\n    }\n    lastInvokeTime = 0;\n    lastArgs = lastCallTime = lastThis = timerId = undefined;\n  }\n\n  function flush() {\n    return timerId === undefined ? result : trailingEdge(now());\n  }\n\n  function debounced() {\n    var time = now(),\n        isInvoking = shouldInvoke(time);\n\n    lastArgs = arguments;\n    lastThis = this;\n    lastCallTime = time;\n\n    if (isInvoking) {\n      if (timerId === undefined) {\n        return leadingEdge(lastCallTime);\n      }\n      if (maxing) {\n        // Handle invocations in a tight loop.\n        clearTimeout(timerId);\n        timerId = setTimeout(timerExpired, wait);\n        return invokeFunc(lastCallTime);\n      }\n    }\n    if (timerId === undefined) {\n      timerId = setTimeout(timerExpired, wait);\n    }\n    return result;\n  }\n  debounced.cancel = cancel;\n  debounced.flush = flush;\n  return debounced;\n}\n\nmodule.exports = debounce;\n","import { CompositeDisposable, Emitter } from 'atom'\nimport debounce from 'lodash/debounce'\nimport type { Disposable, TextBuffer } from 'atom'\nimport { flagMessages, mergeArray } from './helpers'\nimport type { MessagesPatch, Message, Linter } from './types'\n\ntype Linter$Message$Map = {\n  buffer: TextBuffer | null | undefined\n  linter: Linter\n  changed: boolean\n  deleted: boolean\n  messages: Array<Message>\n  oldMessages: Array<Message>\n}\n\nexport default class MessageRegistry {\n  private emitter: Emitter = new Emitter()\n  messages: Array<Message> = []\n  private messagesMap: Set<Linter$Message$Map> = new Set()\n  private subscriptions: CompositeDisposable = new CompositeDisposable()\n  private debouncedUpdate: () => void\n\n  constructor() {\n    this.debouncedUpdate = debounce(this.update, 100, { leading: true })\n    this.subscriptions.add(this.emitter)\n  }\n  set({ messages, linter, buffer }: { messages: Array<Message>; linter: Linter; buffer: TextBuffer | null }) {\n    // check if the linter has been already set\n    let found = null\n    for (const entry of this.messagesMap) {\n      if (entry.buffer === buffer && entry.linter === linter) {\n        found = entry\n        break\n      }\n    }\n\n    if (found) {\n      // found linter\n      found.messages = messages\n      found.changed = true\n    } else {\n      // new linter\n      this.messagesMap.add({ messages, linter, buffer, oldMessages: [], changed: true, deleted: false })\n    }\n    this.debouncedUpdate()\n  }\n  update() {\n    // the final object sent to UI that contains the messages tagged for adding/removeal. messages is all the kept + added messages\n    const result: { added: Array<Message>; removed: Array<Message>; messages: Array<Message> } = {\n      added: [],\n      removed: [],\n      messages: [],\n    }\n\n    // looping over each linter\n    for (const entry of this.messagesMap) {\n      // if linter is deleted\n      // tag the linter's cache for removal and delete it from the map\n      if (entry.deleted) {\n        mergeArray(result.removed, entry.oldMessages)\n        this.messagesMap.delete(entry)\n        continue\n      }\n\n      // if the linter is not changed\n      // just use its cache (no added/removed and everything is kept) and skip the rest\n      if (!entry.changed) {\n        // TODO When this code acutally runs?!\n        mergeArray(result.messages, entry.oldMessages)\n        continue\n      }\n\n      // flag messages as oldKept, oldRemoved, newAdded\n      const flaggedMessages = flagMessages(entry.messages, entry.oldMessages)\n\n      // update the result and cache\n      if (flaggedMessages !== null) {\n        const { oldKept, oldRemoved, newAdded } = flaggedMessages\n        mergeArray(result.added, newAdded)\n        mergeArray(result.removed, oldRemoved)\n        const allThisEntry = newAdded.concat(oldKept)\n        mergeArray(result.messages, allThisEntry)\n        entry.oldMessages = allThisEntry // update chache\n      }\n    }\n\n    // if any messages is removed or added, then update the UI\n    if (result.added.length || result.removed.length) {\n      this.messages = result.messages\n      this.emitter.emit('did-update-messages', result)\n    }\n  }\n  onDidUpdateMessages(callback: (difference: MessagesPatch) => void): Disposable {\n    return this.emitter.on('did-update-messages', callback)\n  }\n  deleteByBuffer(buffer: TextBuffer) {\n    for (const entry of this.messagesMap) {\n      if (entry.buffer === buffer) {\n        entry.deleted = true\n      }\n    }\n    this.debouncedUpdate()\n  }\n  deleteByLinter(linter: Linter) {\n    for (const entry of this.messagesMap) {\n      if (entry.linter === linter) {\n        entry.deleted = true\n      }\n    }\n    this.debouncedUpdate()\n  }\n  dispose() {\n    this.subscriptions.dispose()\n  }\n}\n","import { Emitter, CompositeDisposable } from 'atom'\nimport type { TextEditor, Disposable, Notification } from 'atom'\n\nimport * as Helpers from './helpers'\nimport * as Validate from './validate'\nimport { $version, $activated, $requestLatest, $requestLastReceived } from './helpers'\nimport type { Linter } from './types'\n\nexport default class LinterRegistry {\n  private emitter: Emitter = new Emitter()\n  private linters: Set<Linter> = new Set()\n  private lintOnChange: boolean = true\n  private ignoreVCS: boolean = true\n  private ignoreGlob: string = '**/*.min.{js,css}'\n  private lintPreviewTabs: boolean = true\n  private subscriptions: CompositeDisposable = new CompositeDisposable()\n  private disabledProviders: Array<string> = []\n  private activeNotifications: Set<Notification> = new Set()\n\n  constructor() {\n    this.subscriptions.add(\n      this.emitter,\n      atom.config.observe('linter.lintOnChange', lintOnChange => {\n        this.lintOnChange = lintOnChange\n      }),\n      atom.config.observe('core.excludeVcsIgnoredPaths', ignoreVCS => {\n        this.ignoreVCS = ignoreVCS\n      }),\n      atom.config.observe('linter.ignoreGlob', ignoreGlob => {\n        this.ignoreGlob = ignoreGlob\n      }),\n      atom.config.observe('linter.lintPreviewTabs', lintPreviewTabs => {\n        this.lintPreviewTabs = lintPreviewTabs\n      }),\n      atom.config.observe('linter.disabledProviders', disabledProviders => {\n        if (disabledProviders.length !== 0) {\n          console.warn(`Linter package: disabled linter providers: ${disabledProviders}`)\n        }\n        this.disabledProviders = disabledProviders\n      }),\n    )\n  }\n  hasLinter(linter: Linter): boolean {\n    return this.linters.has(linter)\n  }\n  addLinter(linter: Linter) {\n    if (!Validate.linter(linter)) {\n      return\n    }\n    linter[$activated] = true\n    if (typeof linter[$requestLatest] === 'undefined') {\n      linter[$requestLatest] = 0\n    }\n    if (typeof linter[$requestLastReceived] === 'undefined') {\n      linter[$requestLastReceived] = 0\n    }\n    linter[$version] = 2\n    this.linters.add(linter)\n  }\n  getProviders(): Array<Linter> {\n    return Array.from(this.linters)\n  }\n  deleteLinter(linter: Linter) {\n    if (!this.linters.has(linter)) {\n      return\n    }\n    linter[$activated] = false\n    this.linters.delete(linter)\n  }\n  async lint({ onChange, editor }: { onChange: boolean; editor: TextEditor }): Promise<boolean> {\n    const filePath = editor.getPath()\n\n    if (\n      (onChange && !this.lintOnChange) || // Lint-on-change mismatch\n      // Ignored by VCS, Glob, or simply not saved anywhere yet\n      (!this.lintPreviewTabs && atom.workspace.getActivePane().getPendingItem() === editor) || // Ignore Preview tabs\n      (await Helpers.isPathIgnored(editor.getPath(), this.ignoreGlob, this.ignoreVCS))\n    ) {\n      return false\n    }\n\n    const scopes = Helpers.getEditorCursorScopes(editor)\n\n    const promises = []\n    for (const linter of this.linters) {\n      if (!Helpers.shouldTriggerLinter(linter, onChange, scopes)) {\n        continue\n      }\n      if (this.disabledProviders.includes(linter.name)) {\n        continue\n      }\n      const number = ++linter[$requestLatest]\n      const statusBuffer = linter.scope === 'file' ? editor.getBuffer() : null\n      const statusFilePath = linter.scope === 'file' ? filePath : null\n\n      this.emitter.emit('did-begin-linting', { number, linter, filePath: statusFilePath })\n      promises.push(\n        new Promise(function (resolve: (editor: ReturnType<Linter['lint']>) => void) {\n          resolve(linter.lint(editor))\n        }).then(\n          messages => {\n            this.emitter.emit('did-finish-linting', { number, linter, filePath: statusFilePath })\n            if (linter[$requestLastReceived] >= number || !linter[$activated] || (statusBuffer && !statusBuffer.isAlive())) {\n              return\n            }\n            linter[$requestLastReceived] = number\n            if (statusBuffer && !statusBuffer.isAlive()) {\n              return\n            }\n\n            if (messages === null || messages === undefined) {\n              // NOTE: Do NOT update the messages when providers return null\n              return\n            }\n\n            let validity = true\n            // NOTE: We are calling it when results are not an array to show a nice notification\n            if (atom.inDevMode() || !Array.isArray(messages)) {\n              validity = Validate.messages(linter.name, messages)\n            }\n            if (!validity) {\n              return\n            }\n\n            Helpers.normalizeMessages(linter.name, messages)\n            this.emitter.emit('did-update-messages', { messages, linter, buffer: statusBuffer })\n          },\n          error => {\n            this.emitter.emit('did-finish-linting', { number, linter, filePath: statusFilePath })\n\n            console.error(`[Linter] Error running ${linter.name}`, error)\n            const notificationMessage = `[Linter] Error running ${linter.name}`\n            if (Array.from(this.activeNotifications).some(item => item.getOptions().detail === notificationMessage)) {\n              // This message is still showing to the user!\n              return\n            }\n\n            const notification = atom.notifications.addError(notificationMessage, {\n              detail: 'See Console for more info.',\n              dismissable: true,\n              buttons: [\n                {\n                  text: 'Open Console',\n                  onDidClick: () => {\n                    atom.openDevTools()\n                    notification.dismiss()\n                  },\n                },\n                {\n                  text: 'Cancel',\n                  onDidClick: () => {\n                    notification.dismiss()\n                  },\n                },\n              ],\n            })\n          },\n        ),\n      )\n    }\n\n    await Promise.all(promises)\n    return true\n  }\n\n  /* eslint-disable @typescript-eslint/no-explicit-any */\n  onDidUpdateMessages(callback: (...args: Array<any>) => any): Disposable {\n    return this.emitter.on('did-update-messages', callback)\n  }\n  onDidBeginLinting(callback: (...args: Array<any>) => any): Disposable {\n    return this.emitter.on('did-begin-linting', callback)\n  }\n  onDidFinishLinting(callback: (...args: Array<any>) => any): Disposable {\n    return this.emitter.on('did-finish-linting', callback)\n  }\n  /* eslint-enable @typescript-eslint/no-explicit-any */\n\n  dispose() {\n    this.activeNotifications.forEach(notification => notification.dismiss())\n    this.activeNotifications.clear()\n    this.linters.clear()\n    this.subscriptions.dispose()\n  }\n}\n","import { Emitter, CompositeDisposable, Disposable } from 'atom'\nimport debounce from 'lodash/debounce'\nimport type { TextEditor } from 'atom'\n\nexport default class EditorLinter {\n  private editor: TextEditor\n  private emitter: Emitter = new Emitter()\n  private subscriptions: CompositeDisposable = new CompositeDisposable()\n\n  constructor(editor: TextEditor) {\n    if (!atom.workspace.isTextEditor(editor)) {\n      throw new Error('EditorLinter expects a valid TextEditor')\n    }\n    const editorBuffer = editor.getBuffer()\n    const debouncedLint = debounce(\n      () => {\n        this.emitter.emit('should-lint', false)\n      },\n      50,\n      { leading: true },\n    )\n\n    this.editor = editor\n\n    this.subscriptions.add(\n      this.editor.onDidDestroy(() => this.dispose()),\n\n      // This debouncing is for beautifiers, if they change contents of the editor and save\n      // Linter should count that group of events as one.\n      this.editor.onDidSave(debouncedLint),\n\n      // This is to relint in case of external changes to the opened file\n      editorBuffer.onDidReload(debouncedLint),\n\n      // NOTE: TextEditor::onDidChange immediately invokes the callback if the text editor was *just* created\n      // Using TextBuffer::onDidChange doesn't have the same behavior so using it instead.\n      this.subscriptiveObserve(atom.config, 'linter.lintOnChangeInterval', interval =>\n        editorBuffer.onDidChange(\n          debounce(() => {\n            this.emitter.emit('should-lint', true)\n          }, interval),\n        ),\n      ),\n    )\n  }\n  getEditor(): TextEditor {\n    return this.editor\n  }\n  lint(onChange: boolean = false) {\n    this.emitter.emit('should-lint', onChange)\n  }\n\n  /* eslint-disable @typescript-eslint/no-explicit-any */\n  onShouldLint(callback: (...args: Array<any>) => any): Disposable {\n    return this.emitter.on('should-lint', callback)\n  }\n  onDidDestroy(callback: (...args: Array<any>) => any): Disposable {\n    return this.emitter.on('did-destroy', callback)\n  }\n  /* eslint-disable @typescript-eslint/no-explicit-any */\n\n  dispose() {\n    this.emitter.emit('did-destroy')\n    this.subscriptions.dispose()\n    this.emitter.dispose()\n  }\n\n  subscriptiveObserve(object: Record<string, any>, eventName: string, callback: (...args: Array<any>) => any): Disposable {\n    let subscription: Disposable | null = null\n    const eventSubscription = object.observe(eventName, (props: Record<string, any>) => {\n      if (subscription) {\n        subscription.dispose()\n      }\n      subscription = callback.call(this, props)\n    })\n\n    return new Disposable(function () {\n      eventSubscription.dispose()\n      if (subscription) {\n        subscription.dispose()\n      }\n    })\n  }\n}\n","import { Emitter, CompositeDisposable } from 'atom'\nimport type { Disposable, TextEditor } from 'atom'\nimport EditorLinter from './editor-linter'\n\nexport default class EditorRegistry {\n  private emitter: Emitter = new Emitter()\n  private lintOnOpen: boolean = true\n  private subscriptions: CompositeDisposable = new CompositeDisposable()\n  private editorLinters: Map<TextEditor, EditorLinter> = new Map()\n\n  constructor() {\n    this.subscriptions.add(\n      this.emitter,\n      atom.config.observe('linter.lintOnOpen', lintOnOpen => {\n        this.lintOnOpen = lintOnOpen\n      }),\n    )\n  }\n  activate() {\n    this.subscriptions.add(\n      atom.workspace.observeTextEditors(textEditor => {\n        this.createFromTextEditor(textEditor)\n      }),\n    )\n  }\n  get(textEditor: TextEditor): EditorLinter | null | undefined {\n    return this.editorLinters.get(textEditor)\n  }\n  createFromTextEditor(textEditor: TextEditor): EditorLinter {\n    let editorLinter = this.editorLinters.get(textEditor)\n    if (editorLinter) {\n      return editorLinter\n    }\n    editorLinter = new EditorLinter(textEditor)\n    editorLinter.onDidDestroy(() => {\n      this.editorLinters.delete(textEditor)\n    })\n    this.editorLinters.set(textEditor, editorLinter)\n    this.emitter.emit('observe', editorLinter)\n    if (this.lintOnOpen) {\n      editorLinter.lint()\n    }\n    return editorLinter\n  }\n  hasSibling(editorLinter: EditorLinter): boolean {\n    const buffer = editorLinter.getEditor().getBuffer()\n\n    return Array.from(this.editorLinters.keys()).some(item => item.getBuffer() === buffer)\n  }\n  observe(callback: (editorLinter: EditorLinter) => void): Disposable {\n    this.editorLinters.forEach(callback)\n    return this.emitter.on('observe', callback)\n  }\n  dispose() {\n    for (const entry of this.editorLinters.values()) {\n      entry.dispose()\n    }\n    this.subscriptions.dispose()\n  }\n}\n","import { CompositeDisposable, Emitter } from 'atom'\nimport type { Disposable } from 'atom'\n\nimport * as Helpers from './helpers'\nimport type { Linter, UI } from './types'\nimport type IndieDelegate from './indie-delegate'\n\nlet manifest: { version: number }\n\nfunction formatItem(item: { name: string } | string) {\n  let itemName: string\n  if (item && typeof item === 'object' && typeof item.name === 'string') {\n    itemName = item.name\n  } else if (typeof item === 'string') {\n    itemName = item\n  } else {\n    throw new Error('Unknown object passed to formatItem()')\n  }\n  return `  - ${itemName}`\n}\nfunction sortByName(item1: { name: string }, item2: { name: string }) {\n  return item1.name.localeCompare(item2.name)\n}\n\nexport class Commands {\n  private emitter: Emitter = new Emitter()\n  private subscriptions: CompositeDisposable = new CompositeDisposable()\n\n  constructor() {\n    this.subscriptions.add(\n      this.emitter,\n      atom.commands.add('atom-workspace', {\n        'linter:enable-linter': () => this.enableLinter(),\n        'linter:disable-linter': () => this.disableLinter(),\n      }),\n      atom.commands.add('atom-text-editor:not([mini])', {\n        'linter:lint': () => this.lint(),\n        'linter:debug': () => this.debug(),\n        'linter:toggle-active-editor': () => this.toggleActiveEditor(),\n      }),\n    )\n  }\n  lint() {\n    this.emitter.emit('should-lint')\n  }\n  debug() {\n    this.emitter.emit('should-debug')\n  }\n  enableLinter() {\n    this.emitter.emit('should-toggle-linter', 'enable')\n  }\n  disableLinter() {\n    this.emitter.emit('should-toggle-linter', 'disable')\n  }\n  toggleActiveEditor() {\n    this.emitter.emit('should-toggle-active-editor')\n  }\n\n  /* eslint-disable @typescript-eslint/no-explicit-any */\n  onShouldLint(callback: (...args: Array<any>) => any): Disposable {\n    return this.emitter.on('should-lint', callback)\n  }\n  onShouldDebug(callback: (...args: Array<any>) => any): Disposable {\n    return this.emitter.on('should-debug', callback)\n  }\n  onShouldToggleActiveEditor(callback: (...args: Array<any>) => any): Disposable {\n    return this.emitter.on('should-toggle-active-editor', callback)\n  }\n  onShouldToggleLinter(callback: (...args: Array<any>) => any): Disposable {\n    return this.emitter.on('should-toggle-linter', callback)\n  }\n  /* eslint-disable @typescript-eslint/no-explicit-any */\n\n  dispose() {\n    this.subscriptions.dispose()\n  }\n}\n\nexport async function showDebug(standardLinters: Array<Linter>, indieLinters: Array<IndieDelegate>, uiProviders: Array<UI>) {\n  if (!manifest) {\n    manifest = require('../package.json')\n  }\n\n  const textEditor = atom.workspace.getActiveTextEditor()\n  if (textEditor === undefined) {\n    return\n  }\n  const textEditorScopes = Helpers.getEditorCursorScopes(textEditor)\n  const sortedLinters = standardLinters.slice().sort(sortByName)\n  const sortedIndieLinters = indieLinters.slice().sort(sortByName)\n  const sortedUIProviders = uiProviders.slice().sort(sortByName)\n\n  const indieLinterNames = sortedIndieLinters.map(formatItem).join('\\n')\n  const standardLinterNames = sortedLinters.map(formatItem).join('\\n')\n  const matchingStandardLinters = sortedLinters\n    .filter(linter => Helpers.shouldTriggerLinter(linter, false, textEditorScopes))\n    .map(formatItem)\n    .join('\\n')\n  const humanizedScopes = textEditorScopes.map(formatItem).join('\\n')\n  const uiProviderNames = sortedUIProviders.map(formatItem).join('\\n')\n\n  const ignoreGlob = atom.config.get('linter.ignoreGlob')\n  const ignoreVCSIgnoredPaths = atom.config.get('core.excludeVcsIgnoredPaths')\n  const disabledLinters = atom.config.get('linter.disabledProviders').map(formatItem).join('\\n')\n  const filePathIgnored = await Helpers.isPathIgnored(textEditor.getPath(), ignoreGlob, ignoreVCSIgnoredPaths)\n\n  atom.notifications.addInfo('Linter Debug Info', {\n    detail: [\n      `Platform: ${process.platform}`,\n      `Atom Version: ${atom.getVersion()}`,\n      `Linter Version: ${manifest.version}`,\n      `Opened file is ignored: ${filePathIgnored ? 'Yes' : 'No'}`,\n      `Matching Linter Providers: \\n${matchingStandardLinters}`,\n      `Disabled Linter Providers: \\n${disabledLinters}`,\n      `Standard Linter Providers: \\n${standardLinterNames}`,\n      `Indie Linter Providers: \\n${indieLinterNames}`,\n      `UI Providers: \\n${uiProviderNames}`,\n      `Ignore Glob: ${ignoreGlob}`,\n      `VCS Ignored Paths are excluded: ${ignoreVCSIgnoredPaths}`,\n      `Current File Scopes: \\n${humanizedScopes}`,\n    ].join('\\n'),\n    dismissable: true,\n  })\n}\n","import { CompositeDisposable, Emitter, Disposable } from 'atom'\n\n// https://github.com/atom/atom-select-list/pull/31\nlet SelectListView: any\ntype ToggleAction = 'enable' | 'disable'\n\nexport default class ToggleView {\n  private action: ToggleAction\n  private emitter: Emitter = new Emitter()\n  private providers: Array<string>\n  private subscriptions: CompositeDisposable = new CompositeDisposable()\n  private disabledProviders: Array<string> = []\n\n  constructor(action: ToggleAction, providers: Array<string>) {\n    this.action = action\n    this.providers = providers\n\n    this.subscriptions.add(\n      this.emitter,\n      atom.config.observe('linter.disabledProviders', disabledProviders => {\n        this.disabledProviders = disabledProviders\n      }),\n    )\n  }\n  getItems(): Array<string> {\n    if (this.action === 'disable') {\n      return this.providers.filter(name => !this.disabledProviders.includes(name))\n    }\n    return this.disabledProviders\n  }\n  process(name: string): void {\n    if (this.action === 'disable') {\n      this.disabledProviders.push(name)\n      this.emitter.emit('did-disable', name)\n    } else {\n      const index = this.disabledProviders.indexOf(name)\n      if (index !== -1) {\n        this.disabledProviders.splice(index, 1)\n      }\n    }\n    atom.config.set('linter.disabledProviders', this.disabledProviders)\n  }\n  show() {\n    if (!SelectListView) {\n      SelectListView = require('atom-select-list')\n    }\n    const selectListView = new SelectListView({\n      items: this.getItems(),\n      emptyMessage: 'No matches found',\n      elementForItem: (item: any) => {\n        const li = document.createElement('li')\n        li.textContent = item\n        return li\n      },\n      didConfirmSelection: (item: any) => {\n        try {\n          this.process(item)\n          this.dispose()\n        } catch (e) {\n          console.error('[Linter] Unable to process toggle:', e)\n        }\n      },\n      didCancelSelection: () => {\n        this.dispose()\n      },\n      didConfirmEmptySelection: () => {\n        this.dispose()\n      },\n    })\n    const panel = atom.workspace.addModalPanel({ item: selectListView })\n\n    selectListView.focus()\n    this.subscriptions.add(\n      new Disposable(function () {\n        panel.destroy()\n      }),\n    )\n  }\n\n  /* eslint-disable @typescript-eslint/no-explicit-any */\n  onDidDispose(callback: () => any): Disposable {\n    return this.emitter.on('did-dispose', callback)\n  }\n  onDidDisable(callback: (name: string) => any): Disposable {\n    return this.emitter.on('did-disable', callback)\n  }\n  /* eslint-enable @typescript-eslint/no-explicit-any */\n\n  dispose() {\n    this.emitter.emit('did-dispose')\n    this.subscriptions.dispose()\n  }\n}\n","import { CompositeDisposable, Disposable } from 'atom'\n\nimport Linter from './main'\nimport type { UI, Linter as LinterProvider, Indie } from './types'\n\n// Internal variables\nlet instance: Linter\nlet subscriptions: CompositeDisposable\n\nexport function activate() {\n  subscriptions = new CompositeDisposable()\n\n  instance = new Linter()\n  subscriptions.add(\n    instance,\n    atom.packages.onDidActivateInitialPackages(function () {\n      if (!atom.inSpecMode()) {\n        require('atom-package-deps').install('linter', true)\n      }\n    }),\n  )\n}\nexport function consumeLinter(linter: LinterProvider | Array<LinterProvider>): Disposable {\n  const linters = Array.isArray(linter) ? linter : [linter]\n\n  for (const entry of linters) {\n    instance.addLinter(entry)\n  }\n  return new Disposable(() => {\n    for (const entry of linters) {\n      instance.deleteLinter(entry)\n    }\n  })\n}\nexport function consumeUI(ui: UI | Array<UI>): Disposable {\n  const uis = Array.isArray(ui) ? ui : [ui]\n\n  for (const entry of uis) {\n    instance.addUI(entry)\n  }\n  return new Disposable(() => {\n    for (const entry of uis) {\n      instance.deleteUI(entry)\n    }\n  })\n}\nexport function provideIndie() {\n  return (indie: Indie) => instance.addIndie(indie)\n}\nexport function deactivate() {\n  subscriptions.dispose()\n}\n","import arrayUnique from 'lodash/uniq'\nimport { CompositeDisposable } from 'atom'\n\nimport UIRegistry from './ui-registry'\nimport IndieRegistry from './indie-registry'\nimport MessageRegistry from './message-registry'\nimport LinterRegistry from './linter-registry'\nimport EditorsRegistry from './editor-registry'\nimport { Commands, showDebug } from './commands'\nimport ToggleView from './toggle-view'\nimport type { UI, Linter as LinterProvider, Indie } from './types'\n\nclass Linter {\n  private commands: Commands = new Commands()\n  private registryUI?: UIRegistry\n  private registryIndie?: IndieRegistry\n  private registryEditors?: EditorsRegistry\n  private registryLinters?: LinterRegistry\n  private registryMessages?: MessageRegistry\n  private subscriptions: CompositeDisposable = new CompositeDisposable()\n  private idleCallbacks: Set<number> = new Set()\n\n  constructor() {\n    this.subscriptions.add(this.commands)\n\n    this.commands.onShouldLint(() => {\n      this.registryEditorsInit()\n      const textEditor = atom.workspace.getActiveTextEditor()\n      if (textEditor === undefined) {\n        return\n      }\n      // this.registryEditors becomes valid inside registryEditorsInit\n      const editorLinter = this.registryEditors!.get(textEditor)\n      if (editorLinter) {\n        editorLinter.lint()\n      }\n    })\n    this.commands.onShouldToggleActiveEditor(() => {\n      const textEditor = atom.workspace.getActiveTextEditor()\n      if (textEditor === undefined) {\n        return\n      }\n      this.registryEditorsInit()\n      // this.registryEditors becomes valid inside registryEditorsInit\n      const editor = this.registryEditors!.get(textEditor)\n      if (editor) {\n        editor.dispose()\n      } else if (textEditor) {\n        // this.registryEditors becomes valid inside registryEditorsInit\n        this.registryEditors!.createFromTextEditor(textEditor)\n      }\n    })\n    this.commands.onShouldDebug(async () => {\n      this.registryUIInit()\n      this.registryIndieInit()\n      this.registryLintersInit()\n      await showDebug(\n        // this.registryLinters becomes valid inside registryLintersInit\n        this.registryLinters!.getProviders(),\n        // this.registryIndie becomes valid inside registryIndieInit\n        this.registryIndie!.getProviders(),\n        // this.registryUI becomes valid inside registryUIInit\n        this.registryUI!.getProviders(),\n      )\n    })\n    this.commands.onShouldToggleLinter(action => {\n      this.registryLintersInit()\n      // this.registryLinters becomes valid inside registryLintersInit\n      const toggleView = new ToggleView(action, arrayUnique(this.registryLinters!.getProviders().map(linter => linter.name)))\n      toggleView.onDidDispose(() => {\n        this.subscriptions.remove(toggleView)\n      })\n      toggleView.onDidDisable(name => {\n        // this.registryLinters becomes valid inside registryLintersInit\n        const linter = this.registryLinters!.getProviders().find(entry => entry.name === name)\n        if (linter) {\n          this.registryMessagesInit()\n          // this.registryMessages becomes valid inside registryMessagesInit\n          this.registryMessages!.deleteByLinter(linter)\n        }\n      })\n      toggleView.show()\n      this.subscriptions.add(toggleView)\n    })\n\n    const projectPathChangeCallbackID = window.requestIdleCallback(\n      /* projectPathChange */ () => {\n        this.idleCallbacks.delete(projectPathChangeCallbackID)\n        // NOTE: Atom triggers this on boot so wait a while\n        this.subscriptions.add(\n          atom.project.onDidChangePaths(() => {\n            this.commands.lint()\n          }),\n        )\n      },\n    )\n    this.idleCallbacks.add(projectPathChangeCallbackID)\n\n    const registryEditorsInitCallbackID = window.requestIdleCallback(\n      /* registryEditorsIdleInit */ () => {\n        this.idleCallbacks.delete(registryEditorsInitCallbackID)\n        // This will be called on the fly if needed, but needs to run on it's\n        // own at some point or linting on open or on change will never trigger\n        this.registryEditorsInit()\n      },\n    )\n    this.idleCallbacks.add(registryEditorsInitCallbackID)\n  }\n  dispose() {\n    this.idleCallbacks.forEach(callbackID => window.cancelIdleCallback(callbackID))\n    this.idleCallbacks.clear()\n    this.subscriptions.dispose()\n  }\n\n  registryEditorsInit() {\n    if (this.registryEditors !== undefined) {\n      return\n    }\n    this.registryEditors = new EditorsRegistry()\n    this.subscriptions.add(this.registryEditors)\n    this.registryEditors.observe(editorLinter => {\n      editorLinter.onShouldLint(onChange => {\n        this.registryLintersInit()\n        // this.registryLinters becomes valid inside registryLintersInit\n        this.registryLinters!.lint({ onChange, editor: editorLinter.getEditor() })\n      })\n      editorLinter.onDidDestroy(() => {\n        this.registryMessagesInit()\n        if (!this.registryEditors!.hasSibling(editorLinter)) {\n          // this.registryMessages becomes valid inside registryMessagesInit\n          this.registryMessages!.deleteByBuffer(editorLinter.getEditor().getBuffer())\n        }\n      })\n    })\n    this.registryEditors.activate()\n  }\n  registryLintersInit() {\n    if (this.registryLinters !== undefined) {\n      return\n    }\n    this.registryLinters = new LinterRegistry()\n    this.subscriptions.add(this.registryLinters)\n    this.registryLinters.onDidUpdateMessages(({ linter, messages, buffer }) => {\n      this.registryMessagesInit()\n      // this.registryMessages becomes valid inside registryMessagesInit\n      this.registryMessages!.set({ linter, messages, buffer })\n    })\n    this.registryLinters.onDidBeginLinting(({ linter, filePath }) => {\n      this.registryUIInit()\n      // this.registryUI becomes valid inside registryUIInit\n      this.registryUI!.didBeginLinting(linter, filePath)\n    })\n    this.registryLinters.onDidFinishLinting(({ linter, filePath }) => {\n      this.registryUIInit()\n      // this.registryUI becomes valid inside registryUIInit\n      this.registryUI!.didFinishLinting(linter, filePath)\n    })\n  }\n  registryIndieInit() {\n    if (this.registryIndie !== undefined) {\n      return\n    }\n    this.registryIndie = new IndieRegistry()\n    this.subscriptions.add(this.registryIndie)\n    this.registryIndie.observe(indieLinter => {\n      indieLinter.onDidDestroy(() => {\n        this.registryMessagesInit()\n        // this.registryMessages becomes valid inside registryMessagesInit\n        this.registryMessages!.deleteByLinter(indieLinter)\n      })\n    })\n    this.registryIndie.onDidUpdate(({ linter, messages }) => {\n      this.registryMessagesInit()\n      // this.registryMessages becomes valid inside registryMessagesInit\n      this.registryMessages!.set({ linter, messages, buffer: null })\n    })\n  }\n  registryMessagesInit() {\n    if (this.registryMessages) {\n      return\n    }\n    this.registryMessages = new MessageRegistry()\n    this.subscriptions.add(this.registryMessages)\n    this.registryMessages.onDidUpdateMessages(difference => {\n      this.registryUIInit()\n      // this.registryUI becomes valid inside registryUIInit\n      this.registryUI!.render(difference)\n    })\n  }\n  registryUIInit() {\n    if (this.registryUI !== undefined) {\n      return\n    }\n    this.registryUI = new UIRegistry()\n    this.subscriptions.add(this.registryUI)\n  }\n\n  // API methods for providing/consuming services\n  // UI\n  addUI(ui: UI) {\n    this.registryUIInit()\n    // this.registryUI becomes valid inside registryUIInit\n    this.registryUI!.add(ui)\n    this.registryMessagesInit()\n    // this.registryMessages becomes valid inside registryMessagesInit\n    const messages = this.registryMessages!.messages\n    if (messages.length) {\n      ui.render({ added: messages, messages, removed: [] })\n    }\n  }\n  deleteUI(ui: UI) {\n    this.registryUIInit()\n    // this.registryUI becomes valid inside registryUIInit\n    this.registryUI!.delete(ui)\n  }\n  // Standard Linter\n  addLinter(linter: LinterProvider) {\n    this.registryLintersInit()\n    // this.registryLinters becomes valid inside registryLintersInit\n    this.registryLinters!.addLinter(linter)\n  }\n  deleteLinter(linter: LinterProvider) {\n    this.registryLintersInit()\n    // this.registryLinters becomes valid inside registryLintersInit\n    this.registryLinters!.deleteLinter(linter)\n    this.registryMessagesInit()\n    // this.registryMessages becomes valid inside registryMessagesInit\n    this.registryMessages!.deleteByLinter(linter)\n  }\n  // Indie Linter\n  addIndie(indie: Indie) {\n    this.registryIndieInit()\n    // this.registryIndie becomes valid inside registryIndieInit\n    return this.registryIndie!.register(indie, 2)\n  }\n}\n\nexport default Linter\n"],"names":["freeGlobal","global","Object","freeSelf","self","_root","Function","_Symbol","require$$0","Symbol","objectProto","prototype","hasOwnProperty","nativeObjectToString","toString","symToStringTag","toStringTag","undefined","_getRawTag","value","isOwn","call","tag","unmasked","e","result","getRawTag","require$$1","objectToString","_baseGetTag","isObject_1","type","baseGetTag","isObject","uid","isFunction_1","coreJsData","maskSrcKey","exec","keys","IE_PROTO","_isMasked","func","funcToString","isFunction","isMasked","require$$2","toSource","reIsHostCtor","funcProto","reIsNative","RegExp","replace","baseIsNative","test","getValue","object","key","_getNative","_nativeCreate","nativeCreate","_hashClear","this","__data__","size","_hashDelete","has","_hashGet","data","hashClear","hashDelete","hashGet","hashHas","hashSet","Hash","entries","index","length","clear","entry","set","get","_Hash","_listCacheClear","eq","other","_assocIndexOf","array","assocIndexOf","splice","Array","listCacheClear","listCacheDelete","pop","listCacheGet","listCacheHas","listCacheSet","push","ListCache","_ListCache","Map","isKeyable","_getMapData","map","getMapData","mapCacheClear","hash","string","mapCacheDelete","mapCacheGet","mapCacheHas","mapCacheSet","MapCache","setCacheAdd","setCacheHas","SetCache","values","add","_SetCache","baseFindIndex","predicate","fromIndex","fromRight","baseIsNaN","strictIndexOf","baseIndexOf","_arrayIncludes","_arrayIncludesWith","comparator","_cacheHas","cache","_setToArray","forEach","Set","noop","createSet","arrayIncludes","arrayIncludesWith","cacheHas","require$$3","setToArray","require$$5","baseUniq","iteratee","includes","isCommon","seen","outer","computed","seenIndex","uniq_1","showError","title","description","points","renderedPoints","item","atom","notifications","addWarning","dismissable","detail","join","VALID_SEVERITY","validateMessages","linterName","messages","isArray","invalidURL","invalidIcon","invalidExcerpt","invalidLocation","invalidSeverity","invalidSolution","invalidReference","invalidDescription","invalidLinterName","i","message","reference","icon","location","file","position","range","Range","fromObject","Number","isNaN","start","row","column","end","solutions","Promise","Point","excerpt","severity","url","UIRegistry","[object Object]","CompositeDisposable","ui","providers","name","didBeginLinting","didFinishLinting","render","dispose","validateUI","subscriptions","provider","delete","from","linter","filePath","$activated","$requestLastReceived","shouldTriggerLinter","wasTriggeredOnChange","scopes","lintsOnChange","some","scope","grammarScopes","getEditorCursorScopes","textEditor","arrayUnique","getCursors","reduce","cursor","concat","getScopeDescriptor","getScopesArray","minimatch","async","isPathIgnored","ignoredGlob","ignoredVCS","directory","Directory","repository","project","repositoryForDirectory","normalizedFilePath","process","platform","require","updateMessageKey","normalizeMessages","getRangeClass","getPointClass","j","_length","solution","version","point","flagMessages","inputs","oldMessages","oldKept","oldRemoved","newAdded","keyMessageMap","createKeyMessageMap","iInput","len","input","cacheKeys","oldKeptKeys","oldRemovedKeys","filter","x","iRemoved","RemovedKeysLen","mergeArray","arr1","arr2","apply","IndieDelegate","indie","Emitter","emitter","out","m","disposed","emit","Error","Validate.messages","console","debug","getMessages","inDevMode","fileMessages","callback","on","IndieRegistry","config","validateIndie","indieLinter","delegates","onDidDestroy","onDidUpdate","root","reWhitespace","trimmedEndIndex","charAt","reTrimStart","isObjectLike","baseTrim","slice","isSymbol","reIsBadHex","reIsBinary","reIsOctal","freeParseInt","parseInt","now","Date","toNumber","valueOf","isBinary","nativeMax","Math","max","nativeMin","min","debounce_1","wait","options","lastArgs","lastThis","maxWait","timerId","lastCallTime","lastInvokeTime","leading","maxing","trailing","TypeError","invokeFunc","time","args","thisArg","leadingEdge","setTimeout","timerExpired","shouldInvoke","timeSinceLastCall","trailingEdge","timeWaiting","remainingWait","debounced","isInvoking","arguments","clearTimeout","cancel","flush","MessageRegistry","debouncedUpdate","debounce","update","buffer","found","messagesMap","changed","deleted","added","removed","flaggedMessages","allThisEntry","LinterRegistry","observe","lintOnChange","ignoreVCS","ignoreGlob","lintPreviewTabs","disabledProviders","warn","linters","lint","Validate.linter","onChange","editor","getPath","workspace","getActivePane","getPendingItem","Helpers.isPathIgnored","Helpers.getEditorCursorScopes","promises","Helpers.shouldTriggerLinter","number","statusBuffer","getBuffer","statusFilePath","resolve","then","isAlive","validity","Helpers.normalizeMessages","error","notificationMessage","activeNotifications","getOptions","notification","addError","buttons","text","onDidClick","openDevTools","dismiss","all","EditorLinter","isTextEditor","editorBuffer","debouncedLint","onDidSave","onDidReload","subscriptiveObserve","interval","onDidChange","eventName","subscription","eventSubscription","props","Disposable","EditorRegistry","lintOnOpen","observeTextEditors","createFromTextEditor","editorLinters","editorLinter","getEditor","manifest","SelectListView","instance","formatItem","itemName","sortByName","item1","item2","localeCompare","Commands","commands","linter:enable-linter","enableLinter","linter:disable-linter","disableLinter","linter:lint","linter:debug","linter:toggle-active-editor","toggleActiveEditor","ToggleView","action","indexOf","selectListView","items","getItems","emptyMessage","elementForItem","li","document","createElement","textContent","didConfirmSelection","didCancelSelection","didConfirmEmptySelection","panel","addModalPanel","focus","destroy","Linter","onShouldLint","registryEditorsInit","getActiveTextEditor","registryEditors","onShouldToggleActiveEditor","onShouldDebug","registryUIInit","registryIndieInit","registryLintersInit","standardLinters","indieLinters","uiProviders","textEditorScopes","sortedLinters","sort","sortedIndieLinters","sortedUIProviders","indieLinterNames","standardLinterNames","matchingStandardLinters","humanizedScopes","uiProviderNames","ignoreVCSIgnoredPaths","disabledLinters","filePathIgnored","addInfo","getVersion","showDebug","registryLinters","getProviders","registryIndie","registryUI","onShouldToggleLinter","toggleView","onDidDispose","remove","onDidDisable","find","registryMessagesInit","registryMessages","deleteByLinter","show","projectPathChangeCallbackID","window","requestIdleCallback","idleCallbacks","onDidChangePaths","registryEditorsInitCallbackID","callbackID","cancelIdleCallback","EditorsRegistry","hasSibling","deleteByBuffer","activate","onDidUpdateMessages","onDidBeginLinting","onDidFinishLinting","difference","addLinter","deleteLinter","register","packages","onDidActivateInitialPackages","inSpecMode","install","uis","addUI","deleteUI","addIndie"],"mappings":"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"}